[![Work in Repl.it](https://classroom.github.com/assets/work-in-replit-14baed9a392b3a25080506f3b7b6d57f295ec2978f6f33ec97e36a161684cbe9.svg)](https://classroom.github.com/online_ide?assignment_repo_id=2819992&assignment_repo_type=AssignmentRepo)
# EE 595 Lab 1
In this lab, you are going to practice some Bash scripting (Linux command line) and write a simple C++ program that performs matrix multiplication along with writing the Makefile that will automate the program compilation. Almost all Linux programs have a command-line interface since it is much easier to automate the steps of a process. Compare the complexity of writing commands in a text file with writing a program that has to detect what windows are open and what buttons to click.


## :clipboard: Requirements
**Please read the entire file before proceding!**
- **Deadline:** Wednesday, June 3, 2020, 23:59 PDT
- **Score:** Maximum 100 points.
    - 30 points for the Bash script.
    - 30 points for the Makefile.
    - 30 points for the C++ program.
    - 10 points for answering the questions.
- **Submission limit:** Unlimited.
- **Time limit:** 5 minutes for each grading script, Bash, Makefile, and C++.
- **Files:** You are allowed to change only the ``lab1.sh``, ``Makefile``, ``lab1.cpp``, ``Matrix.cpp``, ``Matrix.h``, and ``ANSWERS`` files. Changing other files will result in 0 points for this lab irrespective of the auto-grading result. In case you changed other files by accident, use the ``git`` command or the GitHub website to revert them to their initial content. 
- **Dependencies:** To complete this lab you will need to have ``python3``, ``gcc``, ``make``, and ``git`` programs installed on your system. To install them on Ubuntu, in a terminal run ``sudo apt install python3 build-essential git``. Our Linux VM and the [repl.it](https://repl.it/) website have them installed. Note, for the [repl.it](https://repl.it/) website to work, you need to claim your [GitHub Student Pack](https://education.github.com/discount_requests/new).
- **Auto grading:** Bash script, Makefile, and the C++ program will be auto graded by GitHub. ``ANSWERS`` file will be manually checked after the deadline.


## :keyboard: Usage
- ``bash lab1.sh`` to run the bash script.
- ``rm -rf bash-playground`` to delete ``bash-playground`` folder created by ``lab1.sh`` script.
- ``python3 lab1_test.py test-bash`` to evaluate the Bash script.
- ``make all`` to compile the C++ program. (Part of the assignment)
- ``make clean`` to remove all the files generated by the build process. (Part of the assignment)
- ``python3 lab1_test.py test-makefile`` to evaluate the Makefile.
- ``./lab1.out file1.txt file2.txt`` to run the C++ program assuming ``file1.txt`` and ``file2.txt`` exist.
- ``python3 lab1_test.py test-cpp`` to evaluate the C++ program.


## :abacus: Bash Problem Description
Edit ``lab1.sh`` and add the commands that will perform the following actions:
1. Create a new folder called ``bash-playground``.
2. Copy all the files with the extension ``.cpp`` from the current directory into the ``bash-playground`` directory. 
3. Change the current directory to ``bash-playground``. 
4. Create a new directory called ``backup``.
5. Copy all the files in the current directory that have ``lab`` in their name to the ``backup`` directory. 
6. Create a new file called ``VERSIONS`` and use Bash commands to write the Make and GCC versions, one per line following the listed order. Use the ``grep`` command to select only the line that contains the version number.


#### Example
Assuming the following directory structure:
```
|-- Makefile
|-- Matrix.cpp
|-- Matrix.h
|-- lab1.cpp
`-- lab1.sh
```
After running the command ``bash lab1.sh`` the new file structure should look like this:
```
|-- bash-playground
|   |-- backup
|   |   `-- lab1.cpp
|   |-- Matrix.cpp
|   |-- lab1.cpp
|   `-- VERSIONS
|-- Makefile
|-- Matrix.cpp
|-- Matrix.h
|-- lab1.cpp
`-- lab1.sh
```
With the ``VERSIONS`` file containing something similar to this:
```
GNU Make 4.1
gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0
```


## :abacus: Makefile Problem Description
Create a ``Makefile`` with two recipes ``all`` and ``clean``. 
- The ``all`` recipe will compile the files ``lab1.cpp``, ``Matrix.h``, and ``Matrix.cpp`` and generate an executable file named ``lab1.out``. A new executable file ``lab1.out`` will be generated only if ``lab1.cpp``, ``Matrix.h``, and ``Matrix.cpp`` changed. 
- The ``clean`` recipe will delete all the files generated by the ``all`` recipe including ``lab1.out``.
Note, you must use the tab character for indentation inside Makefiles. Some editors, including [repl.it](https://repl.it/), by default replace tab with spaces. This will result in a missing separator error when running the make command. Check your editor settings when working with Makefiles.


## :abacus: C++ Problem Description
Create a program that receives two file names as arguments that contain the data for two matrices and writes in the ``result.txt`` file the multiplication result of these matrices. Use the Matrix class in ``Matrix.cpp `` to store the matrix data and implement the multiplication operation. The code in ``lab1.cpp`` should read the files, use the Matrix class to store the data and perform the multiplication, and save the result into the ``result.txt`` file. All data files must have the following format: 
- The first row contains two numbers ``m n`` separated by space, and where ``m`` specifies the number of rows and ``n`` the number of columns of the matrix. 
- The following ``m`` lines contain ``n`` numbers separated by space. 
Also, assume that all the matrix entries are integer numbers and the dimensions of the two matrices are compatible with the matrix multiplication operation.


#### Example
Executing the following command ``./lab1.out file1.txt file2.txt`` with the content for ``file1.txt``:
```
 3  3
-2  0  0
 0  1  0
 0  0 -1
```
and with the content for ``file2.txt``:
```
 3  2
 1  2
 3  4
 5  6
```
should produce a ``result.txt``:
```
 3  2
-2 -4
 3  4
-5 -6
```


## :abacus: Questions
Write the answer to these questions in the ``ANSWERS`` file and for each question explain your reasoning in one line. You will receive 1 point for the correct answer and 1 point for the correct reasoning.

1. *(2 points)* After starting a Linux program using the terminal, the program stopped responding. What do you do to interrupt its execution? (Note: no graphical interface is available)
1. *(2 points)* After starting a Linux program in the background using the terminal (appending ``&`` to a command instructs Linux to run it in the background and return the terminal control), the program stopped responding. What procedure can you use to interrupt the program execution? (Note: no graphical interface is available)
1. *(2 points)* What is the algorithmic complexity *O(?)* of your matrix multiplication program assuming all matrices have dimension ``n`` by ``n`` and the algorithmic complexity of reading and writing an element to file is *O(1)*?
1. *(2 points)* What is the algorithmic complexity *O(?)* of your matrix multiplication program assuming all matrices have dimension ``n`` by ``n`` and the algorithmic complexity of reading and writing an element to file is *O(n)*, i.e., proportional with the number of columns in the matrix?
1. *(2 points)* Given that only ``r = 0.1`` (10%) of the matrix elements are non-zero, what can you do to improve your algorithm.  What is the algorithmic complexity *O(?)* for the *average case* of this new matrix multiplication program expressed in terms of ``r`` and ``n`` assuming all matrices have dimension ``n`` by ``n`` and the algorithmic complexity of reading and writing an element to file is *O(1)*? (Limit your answer to 50 words.)


## :bulb: Hints
- Check the ``lab1_test.py`` file to see what tests your programs have to pass.
- Use the ``grep`` command to select only the line that contains the version number. 
- To use the output of a program as the input of another program or to redirect it to a file read the documentation for *Bash Pipe* and *Bash Redirections*.
- The documentation for *GNU make* can be found [here](https://www.gnu.org/software/make/manual/make.html).
- A short C++ tutorial on working with files can be found [here](https://www.cplusplus.com/doc/tutorial/files/).
- If your computer struggles to run the Linux virtual machine you can use the [repl.it](https://repl.it/) website which has all the needed tools preinstalled. If you claim your [GitHub Student Pack](https://education.github.com/discount_requests/new) and log in using GitHub then the available resources on this website are more than enough for this assignment.


## :memo: Grading
Grading is done automatically by GitHub every time you push your commits. Allow some time for the grading script to complete. The grading time depends on how efficient your code is. Each part of the homework has an independent time limit. Check the requirements section for details. 

GitHub will mark your commit message based on the grading result:
  * :white_check_mark: All test scenarios pass for all evaluation commands 
  * :x: At least one test scenario failed in at least one evaluation command
  
To see the grading result for the last commit click:
> *Actions* → *Commit message to check* → *Scroll down for the auto grading result*
>
> [![Check grading result](https://i.gyazo.com/cd72e0166bdeb3ef291c9f2b4454f4c7.gif)](https://gyazo.com/cd72e0166bdeb3ef291c9f2b4454f4c7)

For a detailed grading report containing each failed test click:
> *Actions* → *Commit message to check* → *Autograding in the left menu* → *Expand ``Run education/autograding@v1``*
>
> [![GIF animation with steps for the grade report](https://i.gyazo.com/2c98694f1d372a5be13e95641912228e.gif)](https://gyazo.com/2c98694f1d372a5be13e95641912228e)
